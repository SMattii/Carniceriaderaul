<!DOCTYPE html>
<html lang="en">

<head>
  <%- include('../../imports.ejs') %>

  <link
      rel="stylesheet"
      type="text/css"
      href="/css/admin.css"
  />
  <link
      rel="stylesheet"
      type="text/css"
      href="/css/actionbar.css"
  />
</head>

<body>
  <header><%- include('./layout/layout.ejs') %></header>
  <main class="d-flex flex-column align-items-center">
    <form
        class="user-form"
        action="/admin/products/<%=product.productId%>"
        method="post"
        role="form"
        id="<%=product.productId%>"
        onsubmit="productUpdate(event)"
    >
      <div class="form-container">
        <%- include('./admin/products/productForm.ejs')%>
      </div>
      <%- include('./layout/actionbar.ejs', {leftButtonTitle: "Cancel", rightButtonTitle:"Update Product"})%>
    </form>
  </main>
  <script>
    const setIsRequired = (event) => {
      const isSale = +$(event.currentTarget).val();
      if (isSale === 1) {
        $("input[name='salePrice']")
          .removeAttr("disabled")
          .attr("required", true);
      } else if (+isSale === 0) {
        $("input[name='salePrice']")
          .attr("disabled", "disabled")
          .attr("required", false);
      }
    };
  </script>
  <script src="/features/admin/products/frontend/utils.js"></script>
  <%-include('../scripts.ejs')%>

</body>

</html>